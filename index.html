<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Happy Birthday!</title>
    <style>
        /* General Styles */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #333;
            overflow-x: hidden;
            perspective: 1000px;
        }

        #scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            transform-style: preserve-3d;
            background-attachment: scroll !important;
        }

        .background-stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="white"/></svg>') repeat;
            animation: twinkle 2s infinite alternate;
            background-size: 20px 20px !important;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .floating-balloons {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .balloon {
            position: absolute;
            width: 50px;
            height: 70px;
            background: radial-gradient(circle, #ff6b6b, #4ecdc4);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: float 6s ease-in-out infinite;
            transform-style: preserve-3d;
        }

        .balloon1 { left: 10%; animation-delay: 0s; }
        .balloon2 { left: 50%; animation-delay: 2s; }
        .balloon3 { left: 80%; animation-delay: 4s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(0deg); }
            50% { transform: translateY(-20px) rotateX(10deg); }
        }

        header {
            text-align: center;
            padding: 50px 20px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        .animated-text {
            font-size: 3em;
            animation: textGlow 2s infinite alternate;
            transform-style: preserve-3d;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        @keyframes textGlow {
            0% { transform: scale(1) rotateX(0deg); }
            100% { transform: scale(1.05) rotateX(5deg); }
        }

        /* Hero Section */
        #hero {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60vh;
            position: relative;
        }

        .cake-container {
            perspective: 1000px;
        }

        .cake {
            position: relative;
            width: 200px;
            height: 200px;
            transform-style: preserve-3d;
            animation: rotateCake 10s infinite linear;
        }

        @keyframes rotateCake {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        .layer {
            position: absolute;
            border-radius: 50%;
            transform-style: preserve-3d;
        }

        .layer1 { width: 200px; height: 50px; background: #8B4513; top: 0; }
        .layer2 { width: 180px; height: 40px; background: #D2691E; top: 50px; left: 10px; }
        .layer3 { width: 160px; height: 30px; background: #F4A460; top: 90px; left: 20px; }

        .candle {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 30px;
            background: #FFD700;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* Gift Section */
        #gift {
            text-align: center;
            padding: 50px 20px;
        }

        .gift-box {
            perspective: 1000px;
            display: inline-block;
        }

        .box {
            position: relative;
            width: 150px;
            height: 150px;
            transform-style: preserve-3d;
            transition: transform 1s;
        }

        .lid {
            position: absolute;
            top: 0;
            left: 0;
            width: 150px;
            height: 75px;
            background: #FF69B4;
            transform-origin: top;
            transform: rotateX(0deg);
            transition: transform 1s;
        }

        .base {
            position: absolute;
            top: 75px;
            left: 0;
            width: 150px;
            height: 75px;
            background: #FF1493;
        }

        .gift-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 150px;
            height: 150px;
            background: #FFF;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1s;
            transform: translateZ(10px);
        }

        /* Wishes Section */
        #wishes {
            padding: 50px 20px;
            text-align: center;
        }

        .wish-cards {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .card {
            width: 200px;
            height: 150px;
            perspective: 1000px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .card-front {
            background: #FF69B4;
            color: white;
        }

        .card-back {
            background: #FFF;
            color: #333;
            transform: rotateY(180deg);
        }

        /* Gallery Section */
        #gallery {
            padding: 50px 20px;
            text-align: center;
        }

        .carousel-3d {
            perspective: 1000px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
        }

        .slide-3d {
            position: absolute;
            width: 400px;
            height: 300px;
            transition: transform 1s;
            transform-style: preserve-3d;
        }

        .slide-3d.active {
            transform: translateZ(0);
        }

        .slide-3d:nth-child(2) {
            transform: translateZ(-200px) rotateY(60deg);
        }

        .slide-3d:nth-child(3) {
            transform: translateZ(-400px) rotateY(120deg);
        }

        .slide-3d img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Countdown Section */
        #countdown {
            padding: 50px 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.8);
        }

        #timer {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .time {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .time span {
            font-size: 2em;
            font-weight: bold;
        }

        /* Music Section */
        #music {
            padding: 50px 20px;
            text-align: center;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
        }

        /* Canvas for Effects */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .animated-text {
                font-size: 2em;
            }
            .wish-cards {
                flex-direction: column;
                align-items: center;
            }
            .card {
                width: 250px;
            }
            #timer {
                flex-direction: column;
                gap: 10px;
            }
            #hero {
                flex-direction: column;
                height: auto;
                padding: 20px 0;
            }
            .cake {
                width: 150px;
                height: 150px;
                animation: none;
            }
            .message h2 {
                font-size: 1.5em;
                margin-top: 20px;
            }
            #gallery .carousel-3d {
                height: 200px;
            }
            .slide-3d {
                width: 250px;
                height: 200px;
                position: relative;
                transform: none !important;
                opacity: 1 !important;
                position: static;
                margin-bottom: 10px;
            }
            .slide-3d img {
                width: 100%;
                height: 100%;
                border-radius: 10px;
            }
            #gallery button {
                margin-top: 10px;
                width: 100%;
            }
            #wishes .wish-cards {
                flex-direction: column;
                gap: 15px;
            }
            #gift .gift-box {
                width: 120px;
                height: 120px;
            }
            .box {
                width: 120px;
                height: 120px;
            }
            .lid {
                width: 120px;
                height: 60px;
            }
            .base {
                width: 120px;
                height: 60px;
            }
            #countdown #timer {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Fix for mobile background and styles */
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            background-attachment: scroll !important;
        }
    </style>
</head>
<body>
    <div id="scene">
        <div class="background-stars"></div>
        <div class="floating-balloons">
            <div class="balloon balloon1"></div>
            <div class="balloon balloon2"></div>
            <div class="balloon balloon3"></div>
        </div>
    </div>

    <header>
        <h1 class="animated-text">Happy Birthday!</h1>
        <p>Wishing you a day filled with joy, love, and unforgettable moments.</p>
    </header>

    <section id="hero">
        <div class="cake-container">
            <div class="cake">
                <div class="layer layer1"></div>
                <div class="layer layer2"></div>
                <div class="layer layer3"></div>
                <div class="candle"></div>
            </div>
        </div>
        <div class="message">
            <h2>May your birthday be as sweet as cake!</h2>
        </div>
    </section>

    <section id="long-distance-passage">
        <h2>Our Journey Across the Miles</h2>
        <p>
            Though miles apart, our hearts beat as one. Every moment without you only strengthens my love and longing.
            This birthday, I send you all my love wrapped in warm wishes and dreams of the day we reunite.
            Distance may test us, but it will never break the bond we share. Happy birthday, my love.
        </p>
    </section>

    <section id="gift">
        <h2>Open Your Gift</h2>
        <div class="gift-box" onclick="openGift()">
            <div class="box">
                <div class="lid"></div>
                <div class="base"></div>
            </div>
            <div class="gift-content" id="gift-content">
                <p>Surprise! Wishing you the best year ever!</p>
            </div>
        </div>
    </section>

    <section id="wishes">
        <h2>Birthday Wishes</h2>
        <div class="wish-cards">
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="card-front">Click to Reveal Wish</div>
                    <div class="card-back">Wishing you endless happiness and success!</div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="card-front">Click to Reveal Wish</div>
                    <div class="card-back">May all your dreams come true this year!</div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="card-front">Click to Reveal Wish</div>
                    <div class="card-back">Here's to another year of adventures!</div>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery">
        <h2>Memorable Moments</h2>
        <div class="carousel-3d">
            <div class="slide-3d active">
                <img src="images/photo1.jpg" alt="Birthday Photo 1" />
            </div>
            <div class="slide-3d">
                <img src="images/photo2.jpg" alt="Birthday Photo 2" />
            </div>
            <div class="slide-3d">
                <img src="images/photo3.jpg" alt="Birthday Photo 3" />
            </div>
            <div class="slide-3d">
                <img src="images/photo4.jpg" alt="Birthday Photo 4" />
            </div>
            <div class="slide-3d">
                <img src="images/photo5.jpg" alt="Birthday Photo 5" />
            </div>
        </div>
        <button onclick="nextSlide3D()">Next</button>
    </section>

    <section id="countdown">
        <h2>Countdown to Your Next Birthday</h2>
        <div id="timer">
            <div class="time">
                <span id="days">00</span>
                <p>Days</p>
            </div>
            <div class="time">
                <span id="hours">00</span>
                <p>Hours</p>
            </div>
            <div class="time">
                <span id="minutes">00</span>
                <p>Minutes</p>
            </div>
            <div class="time">
                <span id="seconds">00</span>
                <p>Seconds</p>
            </div>
        </div>
    </section>

    <section id="music">
        <h2>Background Music</h2>
        <audio controls autoplay loop>
            <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav" />
            Your browser does not support the audio element.
        </audio>
    </section>

    <footer>
        <p>Made with love for your special day!</p>
    </footer>

    <canvas id="confetti"></canvas>
    <canvas id="fireworks"></canvas>

    <script>
        // Flip Card Function
        function flipCard(card) {
            const inner = card.querySelector('.card-inner');
            inner.style.transform = inner.style.transform === 'rotateY(180deg)' ? 'rotateY(0deg)' : 'rotateY(180deg)';
        }

        // Open Gift Function
        function openGift() {
            const box = document.querySelector('.box');
            const lid = document.querySelector('.lid');
            const content = document.getElementById('gift-content');
            lid.style.transform = 'rotateX(-90deg)';
            setTimeout(() => {
                content.style.opacity = '1';
            }, 500);
        }

        // 3D Carousel
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide-3d');

        function nextSlide3D() {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
            updateCarousel();
        }

        function updateCarousel() {
            slides.forEach((slide, index) => {
                const angle = (index - currentSlide) * 60;
                slide.style.transform = `translateZ(-200px) rotateY(${angle}deg)`;
            });
        }

        // Countdown Timer
        const birthday = new Date('December 25, 2024 00:00:00').getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = birthday - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = days;
            document.getElementById('hours').innerText = hours;
            document.getElementById('minutes').innerText = minutes;
            document.getElementById('seconds').innerText = seconds;

            if (distance < 0) {
                clearInterval(countdownInterval);
                document.getElementById('timer').innerHTML = '<p>Happy Birthday!</p>';
            }
        }

        const countdownInterval = setInterval(updateCountdown, 1000);

        // Confetti Canvas
        const confettiCanvas = document.getElementById('confetti');
        const confettiCtx = confettiCanvas.getContext('2d');
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;

        const confettiParticles = [];

        function createConfetti() {
            for (let i = 0; i < 100; i++) {
                confettiParticles.push({
                    x: Math.random() * confettiCanvas.width,
                    y: Math.random() * confettiCanvas.height,
                    vx: (Math.random() - 0.5) * 4,
                    vy: Math.random() * 3 + 1,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    size: Math.random() * 5 + 2
                });
            }
        }

        function updateConfetti() {
            confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            confettiParticles.forEach(particle => {
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.vy += 0.1; // gravity

                if (particle.y > confettiCanvas.height) {
                    particle.y = 0;
                    particle.x = Math.random() * confettiCanvas.width;
                }

                confettiCtx.fillStyle = particle.color;
                confettiCtx.fillRect(particle.x, particle.y, particle.size, particle.size);
            });
            requestAnimationFrame(updateConfetti);
        }

        createConfetti();
        updateConfetti();

        // Fireworks Canvas
        const fireworksCanvas = document.getElementById('fireworks');
        const fireworksCtx = fireworksCanvas.getContext('2d');
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;

        const fireworks = [];

        function createFirework() {
            const x = Math.random() * fireworksCanvas.width;
            const y = fireworksCanvas.height;
            const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
            fireworks.push({ x, y, color, particles: [] });

            for (let i = 0; i < 20; i++) {
                fireworks[fireworks.length - 1].particles.push({
                    x,
                    y,
                    vx: (Math.random() - 0.5) * 10,
                    vy: (Math.random() - 0.5) * 10,
                    life: 100
                });
            }
        }

        function updateFireworks() {
            fireworksCtx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            fireworks.forEach((firework, fi) => {
                firework.particles.forEach((particle, pi) => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    particle.vy += 0.1;
                    particle.life--;

                    if (particle.life <= 0) {
                        firework.particles.splice(pi, 1);
                    } else {
                        fireworksCtx.fillStyle = firework.color;
                        fireworksCtx.fillRect(particle.x, particle.y, 2, 2);
                    }
                });

                if (firework.particles.length === 0) {
                    fireworks.splice(fi, 1);
                }
            });

            if (Math.random() < 0.05) {
                createFirework();
            }

            requestAnimationFrame(updateFireworks);
        }

        updateFireworks();

        // Resize Canvases
        window.addEventListener('resize', () => {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
            fireworksCanvas.width = window.innerWidth;
            fireworksCanvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
